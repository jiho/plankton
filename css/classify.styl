@keyframes classifier-loading
  0%
    background-position: 0 0

  100%
    background-position: 0 -150px

.zooniverse-top-bar
  transition: opacity 0.5s ease-in-out

.on-classify-page
  .zooniverse-top-bar
    opacity: 0.5

    &:hover
      opacity: 1

  .site-navigation
    top: -30px

    &:hover
      top: 0

body > .stack > .classify
  background: gray
  height: 672px
  left: 0
  opacity: 0
  position: absolute
  top: 0
  transform: scale(0.05)
  transition:
    opacity 0.25s ease-in-out,
    transform 0.25s ease-in-out
  width: 1024px

  &.activated
    opacity: 1
    transform: scale(1)

  .subject
    height: 562px
    position: relative
    width: 1024px
    z-index: 1

    .marking-tool-controls
      background: rgba($dark-gray, 0.8)
      border-radius: 3px
      box-shadow: 0 3px 3px rgba(#000, 0.25)
      color: #000
      display: none
      margin: -20px 0 0 20px

      &:after
        border: 10px solid transparent
        border-right-color: lighten($dark-gray, 10%)
        content: ""
        height: 0
        position: absolute
        right: 100%
        top: 10px
        width: 0

      &.to-the-left
        margin: -20px 20px 0 0

        &:after
          border-left-color: lighten($dark-gray, 10%)
          border-right-color: transparent
          left: 100%
          right: auto

      &.selected
        display: block

      button[name="delete-mark"]
        background: $dark-gray
        font-family: Arial
        height: 1em
        left: 100%
        line-height: 1em
        position: absolute
        top: 1px
        width: 1em

      .categories
        background: lighten($dark-gray, 10%)
        box-shadow:
          0 1px 0 rgba(#fff, 0.33) inset,
          0 1px 3px rgba(#000, 0.25)

        button
          height: 50px
          width: 50px
          position: relative

          &.active
            color: $lime

            &:before,
            &:after
              border: 7px solid transparent
              border-top-color: lighten($dark-gray, 10%)
              content: ""
              height: 0
              left: 50%
              margin-left: -7px
              position: absolute
              top: 100%
              width: 0

            &:before
              border-top-color: rgba(#000, 0.25)
              margin-top: 1px

      .category
        display: none

        &.active
          display: block

        button
          height: 50px
          width: 50px

          &.active
            color: $lime

  .swap
    height: 562px
    left: 0
    overflow: hidden
    position: absolute
    top: 0
    width: 1024px
    z-index: 1

    .drawer
      left: 0
      position: absolute
      top: 0

      img
        background: gray
        display: block
        height: 562px
        width: 1024px

  .status
    background: $dark-gray
    bottom: 0
    display: table
    height: 110px
    left: 0
    position: absolute
    width: 100%

    > div
      border: 1px solid transparent
      border-color: rgba(#fff, 0.15) rgba(#000, 0.25) rgba(#000, 0.25) rgba(#fff, 0.15)
      display: table-cell
      text-align: center
      vertical-align: middle

    .creatures
      .display
        background: #000
        border-radius: 3px
        box-shadow: 0 1px 0 rgba(#fff, 0.25)
        margin: 0 30px
        overflow: hidden
        padding: 5px 7px

        .label
          color: $dark-gray
          float: left
          font-size: 10px
          line-height: 12px
          text-transform: uppercase
          width: 0 // This is just to get the lines to wrap.

        .number
          float: right
          font-size: 18px

    a
      color: inherit
      text-decoration: none

    a.talk,
    button
      background: rgba(#fff, 0.15)
      border-radius: 3px
      box-shadow:
        0 1px 0 rgba(#fff, 0.25) inset,
        0 0 0 rgba(#fff, 0) inset,
        0 5px 10px rgba(#000, 0.25)
      color: #000
      display: inline-block
      font-size: 12px
      font-weight: bold
      padding: 5px 20px
      text-decoration: none
      text-shadow: 0 1px 0 rgba(#fff,0.15)
      transition: box-shadow 0.1s ease-in-out

      &:hover
        box-shadow:
          0 1px 0 rgba(#fff, 0.25) inset,
          0 100px 0 rgba(#fff, 0.1) inset,
          0 5px 10px rgba(#000, 0.25)

      &:active
        box-shadow:
          0 1px 0 rgba(#fff, 0.15) inset,
          0 0 0 rgba(#fff, 0) inset,
          0 1px 3px rgba(#000, 0.33)

    .continue
      .finish
        display: block

      .next
        display: none

  .loader
    animation: 3s classifier-loading linear infinite
    background: linear-gradient(top, rgba(#000, 0.5) 0, rgba(#000, 0) 50%, rgba(#000, 0.5) 100%)
    background-size: 150px 150px
    bottom: 0
    display: none
    left: 0
    position: absolute
    right: 0
    top: 0
    z-index: 2

  &.loading .loader
    display: block

  &.finished .status .continue
    .finish
      display: none

    .next
      display: block
